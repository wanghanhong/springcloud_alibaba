<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.device.message.data.mapper.screen.MWholeProvinceMapper">

    <select id="alarmSmokeNum"  resultType="java.lang.Integer">
       select count(*) countnum from t_alarm_smoke t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 2 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>
    <select id="alarmWaterpressNum"  resultType="java.lang.Integer">
        select count(*) countnum from t_alarm_waterpress t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 2 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>
    <select id="alarmElectricNum"  resultType="java.lang.Integer">
        select count(*) countnum from t_alarm_electric t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 2 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>

    <select id="eventSmokeNum"  resultType="java.lang.Integer">
        select count(*) countnum from t_alarm_smoke t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 1 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>
    <select id="eventWaterpressNum"  resultType="java.lang.Integer">
        select count(*) countnum from t_alarm_waterpress t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 1 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>
    <select id="eventElectricNum"  resultType="java.lang.Integer">
        select count(*) countnum from t_alarm_electric t,t_strategy_alarm t1 where t.device_type = t1.device_type and t.event_code=t1.event_code
        and t1.strategy_type = 1 and t.create_time &gt;= #{vo.startTime}  and t.create_time &lt;= #{vo.endTime} and t.device_id in ( ${vo.ids} );
    </select>

</mapper>
