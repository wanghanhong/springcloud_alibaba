<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.device.install.mapper.inspection.THisInspectionDetilMapper">


    <!--<select id="hisInspectionList" resultType="com.smart.device.common.install.entity.THisInspectionDTO">-->
        <!--SELECT-->
        <!--id,-->
        <!--inspection_id as inspectionId,-->
        <!--company_name AS companyName,-->
        <!--firefighter_name AS firefighterName,-->
        <!--fire_fighter_phone AS firefighterNamePhone,-->
        <!--point,-->
        <!--sum(-->
        <!--CASE-->
        <!--WHEN t.device_status = 2 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) + sum(-->
        <!--CASE-->
        <!--WHEN t.fire_engine_status = 2 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) AS pointRepair,-->
        <!--sum(-->
        <!--CASE-->
        <!--WHEN t.device_status = 3 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) + sum(-->
        <!--CASE-->
        <!--WHEN t.fire_engine_status = 3 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) AS pointReplace,-->
        <!--sum(-->
        <!--CASE-->
        <!--WHEN t.device_status = 4 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) + sum(-->
        <!--CASE-->
        <!--WHEN t.fire_engine_status = 4 THEN-->
        <!--1-->
        <!--ELSE-->
        <!--0-->
        <!--END-->
        <!--) AS pointLose-->
        <!--FROM-->
        <!--t_his_inspection_details t-->

        <!--where 1=1-->

        <!--<if test="companyName != null and companyName != ''">-->
            <!--and t.company_name like concat('%',#{companyName},'%')-->
        <!--</if>-->

        <!--<if test="inspectionId != null ">-->
            <!--and t.inspection_id = #{inspectionId}-->
        <!--</if>-->
        <!--GROUP BY-->
        <!--id,-->
        <!--inspection_id,-->
        <!--company_name,-->
        <!--firefighter_name,-->
        <!--fire_fighter_phone,-->
        <!--point-->
   <!--</select>-->

    <!--<select id="selectList" resultType="com.smart.device.common.install.entity.THisInspection">-->
        <!--SELECT * from t_his_inspection t where t.delete_flag = 0-->
        <!--<if test="vo.firefighterId != null ">-->
            <!--and t.firefighter_id = #{vo.firefighterId}-->
        <!--</if>-->
    <!--</select>-->


</mapper>
