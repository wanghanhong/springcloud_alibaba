<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.brd.manage.base.mapper.TDiseaseMapper">


    <select id="tDiseaseList" parameterType="com.smart.brd.manage.base.entity.TDisease" resultType="com.smart.brd.manage.base.entity.TDisease">
        SELECT * from t_disease t where t.delete_flag = 0
        <if test="vo.diseaseName != null and vo.diseaseName != '' ">
            and t.disease_name like concat('%',#{vo.diseaseName},'%')
        </if>
        <if test="vo.diseaseCode != null and vo.diseaseCode != '' ">
            and t.disease_code like concat('%',#{vo.diseaseCode},'%')
        </if>
        <if test="vo.suitable != null and vo.suitable != '' ">
            and t.suitable like concat('%',#{vo.suitable},'%')
        </if>
        <!--<if test="vo.deptIds != null and vo.deptIds != '' ">-->
            <!--and t.dept_id in (${vo.deptIds})-->
        <!--</if>-->
        <if test="vo.startTime != null and vo.startTime != '' ">
            and t.create_time &gt;= #{vo.startTime}
        </if>
        <if test="vo.endTime != null and vo.endTime != '' ">
            and t.create_time &lt;= #{vo.endTime}
        </if>
        <if test="vo.symptom != null and vo.symptom != '' ">
            and t.symptom like concat('%',#{vo.symptom},'%')
        </if>
        ORDER BY t.create_time desc
    </select>

    <select id="getDiseaseByCode" resultType="com.smart.brd.manage.base.entity.TDisease">
        select * from t_disease t where t.delete_flag = 0 and disease_code = #{code}
    </select>


</mapper>
